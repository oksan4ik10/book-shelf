(()=>{"use strict";function e(e,t,n,a,r){e.querySelectorAll("input").forEach((e=>{e.value=""})),t.classList.remove("none"),e.classList.add("none"),n.removeEventListener("click",a),n.removeEventListener("click",r)}function t(e,t,n,a,r,o,c,i,d){event.preventDefault();const l=readForm(n);l?("number"==typeof e?t[e]=l:t.push(l),a.classList.remove("none"),n.classList.add("none"),r(mainUl,t),o(n,a,d,i,c)):alert("Литература не позднее 2017 года или есть пустые поля")}const n=document.getElementById("add"),a=document.querySelector("main"),r=document.querySelector("form"),o=document.getElementById("editor-head"),c=document.getElementById("btn-z"),i=document.getElementById("btn-save"),d=r.querySelector("input[name=year]"),l=document.querySelector("main ul");d.addEventListener("input",(()=>{event.target.value=event.target.value.replace(/\D/,"")})),function(e,t){e.textContent="",[{img:"./img/Digital-Harry-Potter-1.jpg",head:"Гарри Поттер и философский камень",author:"Джоан Роулинг",year:"1997"},{img:"./img/Digital-Harry-Potter-2.jpg",head:"Гарри Поттер и Тайная комната",author:"Джоан Роулинг",year:"1998"}].forEach((t=>{const n=document.createElement("li");n.innerHTML=`<img src=${t.img} alt="Harry Potter 2">\n                    <div class="about-book">\n                        <h2>${t.head}</h2>\n                        <p>${t.author}</p>\n                        <p>${t.year}</p>\n                    </div>\n                    <div class="change">\n                        <button class="btn-editor">Редактировать</button>\n                        <button class="btn-delete">Удалить</button>\n                    </div>`,e.append(n)}))}(l),n.addEventListener("click",(()=>{e(r,a,i),o.textContent="Добавить книгу",a.classList.add("none"),r.classList.remove("none"),i.addEventListener("click",t)})),c.addEventListener("click",(t=>{t.preventDefault(),e()}))})();